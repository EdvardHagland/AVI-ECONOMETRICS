"0","# --- INTENT: Replicate Table 2b from the paper (Wave 3 Models). ---"
"0","# --- EFFECT: This chunk prepares inputs and generates Table 2b using modelsummary. ---"
"0",""
"0","# Load modelsummary (likely loaded in setup)"
"0","# library(modelsummary)"
"0","# library(tibble)"
"0",""
"0","# --- Prepare inputs for Table 2b --- "
"0","models_t2b <- list("
"0","  `W3 Mean` = asp.w3,"
"0","  `W3 DiD Wgt` = asp.did.w3,"
"0","  `W3 DiD Unw` = asp.did.w3_unw"
"0",")"
"0",""
"0","# Define stars map again (or ensure it's global)"
"0","stars_map <- c(""†"" = 0.1, ""*"" = 0.05, ""**"" = 0.01, ""***"" = 0.001)"
"0",""
"0","add_rows_t2b <- tibble::tribble("
"0","  ~term,           ~`W3 Mean`, ~`W3 DiD Wgt`, ~`W3 DiD Unw`,"
"0","  ""Fixed effects"", ""Yes"", ""Yes"", ""Yes"","
"0","  ""IPW Weighted"",  ""Yes"", ""Yes"", ""No"""
"0",")"
"0",""
"0","# --- Generate Table 2b --- "
"0","modelsummary(models_t2b,"
"0","             output = ""kableExtra"", "
"0","             fmt = 3, "
"0","             stars = stars_map, "
"0","             coef_omit = ""Region"", "
"0","             coef_rename = c(""treat.dum"" = ""Treat assignment"", "
"0","                           ""post.dum"" = ""Post-treatment"", "
"0","                           ""treat.dum:post.dum"" = ""Treat x Post"","
"0","                           ""(Intercept)"" = ""Constant""), "
"0","             gof_map = list("
"0","               list(""raw"" = ""nobs"", ""clean"" = ""Observations"", ""fmt"" = 0),"
"0","               list(""raw"" = ""r.squared"", ""clean"" = ""R$^{2}$"", ""fmt"" = 3),"
"0","               list(""raw"" = ""adj.r.squared"", ""clean"" = ""Adj. R$^{2}$"", ""fmt"" = 3)"
"0","             ),"
"0","             add_rows = add_rows_t2b,"
"0","             notes = list(""Standard errors in parentheses."","
"0","                        ""† p<0.1; * p<0.05; ** p<0.01; *** p<0.001."","
"0","                        ""Model (3) weighted. Model (4a) weighted DiD (original script). Model (4b) unweighted DiD."","
"0","                        ""All models include regional fixed effects.""),"
"0","             title = ""Table 2b: Effect of Program on Migration Aspiration (Wave 3 Models)"", "
"0","             kable_styling_options = list(latex_options = c(""striped"", ""[H]""), "
"0","                                        booktabs = TRUE,"
"0","                                        escape = FALSE, "
"0","                                        font_size = 10)"
"0","             )"
