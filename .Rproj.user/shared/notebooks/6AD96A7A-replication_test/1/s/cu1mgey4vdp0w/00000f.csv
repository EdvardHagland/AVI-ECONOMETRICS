"0","# --- INTENT: Display results of the HTE models. ---"
"0","# --- EFFECT: Uses modelsummary, focusing on the triple interaction term. ---"
"0","message(""Generating table for Robustness Check 4..."")"
"2","Generating table for Robustness Check 4...
"
"0","models_hte <- list()"
"0","if (!is.null(hte_male)) models_hte[[""Interact: Male""]] <- hte_male"
"0","if (!is.null(hte_educ)) models_hte[[""Interact: Education""]] <- hte_educ"
"0","if (!is.null(hte_bs_exp)) models_hte[[""Interact: Has Business""]] <- hte_bs_exp"
"0",""
"0","# Add original model for reference only if it exists"
"0","if (exists(""asp.did.w2"") && !is.null(asp.did.w2)) models_hte[[""(2a) Original W2 DiD Wgt""]] <- asp.did.w2"
"0",""
"0","if (length(models_hte) > 1) { # Check if at least one HTE model ran + original"
"0","  coef_map_hte <- c("
"0","    ""treat.dum:post.dum"" = ""Treat x Post (Main Effect)"","
"0","    ""treat.dum:post.dum:male"" = ""Treat x Post x Male"","
"0","    ""treat.dum:post.dum:educ"" = ""Treat x Post x Education"","
"0","    ""treat.dum:post.dum:bs.exp.now"" = ""Treat x Post x Has Business"""
"0","  )"
"0",""
"0","  keep_pattern_hte <- ""^treat\\.dum:post\\.dum"" # Regex to keep key interactions"
"0",""
"0","  gof_map_hte <- list("
"0","    list(""raw"" = ""nobs"", ""clean"" = ""Observations"", ""fmt"" = 0),"
"0","    list(""raw"" = ""r.squared"", ""clean"" = ""R$^{2}$"", ""fmt"" = 3)"
"0","  )"
"0",""
"0","  modelsummary(models_hte,"
"0","               output = ""kableExtra"","
"0","               fmt = 3,"
"0","               stars = c(""â€ "" = 0.1, ""*"" = 0.05, ""**"" = 0.01, ""***"" = 0.001),"
"0","               coef_map = coef_map_hte,"
"0","               coef_matches = keep_pattern_hte,"
"0","               gof_map = gof_map_hte,"
"0","               notes = list(""Standard errors in parentheses."","
"0","                          ""Models are weighted Wave 2 DiD specifications with Region FE."","
"0","                          ""Each interaction model adds a triple interaction term using baseline moderators."","
"0","                          ""Significance on the triple interaction suggests the treatment effect differs by the moderator.""),"
"0","               title = ""Robustness Check 4: Heterogeneity of Treatment Effects (Wave 2)"","
"0","               escape = FALSE"
"0","               ) %>%"
"0","    kable_styling(latex_options = c(""striped"", ""hold_position""),"
"0","                  bootstrap_options = ""striped"","
"0","                  position = ""center"","
"0","                  font_size = 9,"
"0","                  full_width = FALSE) %>%"
"0","    column_spec(1, width = ""12em"")"
"0",""
"0","} else {"
"0","  message(""Skipping HTE table generation as no interaction models were successfully fitted or original model missing."")"
"0","}"
