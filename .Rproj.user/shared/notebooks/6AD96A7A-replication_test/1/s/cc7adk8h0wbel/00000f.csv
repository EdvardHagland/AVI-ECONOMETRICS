"0","# --- INTENT: Replicate Table 2a from the paper (Wave 2 Models). ---"
"0","# --- EFFECT: This chunk prepares inputs and generates Table 2a using modelsummary and kableExtra. ---"
"0",""
"0","# --- Prepare inputs for Table 2a --- "
"0","models_t2a <- list("
"0","  `(1) W2 Mean` = asp.w2,"
"0","  `(2a) W2 DiD Wgt` = asp.did.w2, # Replication of original weighted DiD"
"0","  `(2b) W2 DiD Unw` = asp.did.w2_unw # Unweighted version for comparison"
"0",")"
"0",""
"0","# Define significance stars mapping"
"0","stars_map <- c(""â€ "" = 0.1, ""*"" = 0.05, ""**"" = 0.01, ""***"" = 0.001)"
"0",""
"0","# Define rows to add at the bottom (e.g., Fixed Effects, Weighted status)"
"0","# Use modelsummary's add_rows mechanism which requires a specific structure"
"0","add_rows_t2a_df <- tibble::tribble("
"0","  ~term,           ~`(1) W2 Mean`, ~`(2a) W2 DiD Wgt`, ~`(2b) W2 DiD Unw`,"
"0","  ""Fixed effects"", ""Yes"", ""Yes"", ""Yes"","
"0","  ""IPW Weighted"",  ""Yes"", ""Yes"", ""No"""
"0",")"
"0","# Convert to the format modelsummary expects for add_rows"
"0","add_rows_t2a <- add_rows_t2a_df %>% "
"0","  pivot_longer(cols = -term, names_to = ""model"", values_to = ""value"") %>% "
"0","  mutate(part = ""glance"", model = factor(model, levels = names(models_t2a))) %>% # Ensure model order"
"0","  select(part, term, value, model)"
"2","Error in select(., part, term, value, model) : 
  unused arguments (part, term, value, model)
"
