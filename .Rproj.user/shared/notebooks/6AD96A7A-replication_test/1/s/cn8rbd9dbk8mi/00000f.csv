"0","# CHUNK: table2-models"
"0","# PURPOSE: Estimate OLS models for short- and long-term treatment effects."
"0","# EXECUTION: Fit difference-in-means and DiD specifications (weighted and unweighted)."
"0","# FUN NOTE: OLS never looked so good."
"0",""
"0","# Load necessary libraries (dplyr likely loaded in setup)"
"0","# library(dplyr) "
"0",""
"0","# Ensure mig_long is prepared (from setup chunk or previous steps)"
"0","if (!exists(""mig_long"")) {"
"0","  stop(""Error in table2-models: mig_long data frame not found."")"
"0","}"
"0",""
"0","# --- Estimate Models (using nonmissing2/nonmissing3 for exact replication) --- "
"0",""
"0","# Model 1: Difference-in-Means (Wave 2 only)"
"0","asp.w2 <- lm(mg.asp ~ treat.dum + factor(Region), "
"0","             data=subset(mig_long, wave==2 & nonmissing2), "
"0","             weights=wt2)"
"0",""
"0","# Model 2: Difference-in-Differences (Baseline vs Wave 2, Weighted)"
"0","asp.did.w2 <- lm(mg.asp ~ treat.dum*post.dum + factor(Region), "
"0","                 data=subset(mig_long, wave!=3 & nonmissing2), "
"0","                 weights=wt2)"
"0",""
"0","# Model 3: Difference-in-Means (Wave 3 only)"
"0","asp.w3 <- lm(mg.asp ~ treat.dum + factor(Region), "
"0","             data=subset(mig_long, wave==3 & nonmissing3), "
"0","             weights=wt3)"
"0",""
"0","# Model 4: Difference-in-Differences (Baseline vs Wave 3, Weighted)"
"0","asp.did.w3 <- lm(mg.asp ~ treat.dum*post.dum + factor(Region), "
"0","                 data=subset(mig_long, wave!=2 & nonmissing3), "
"0","                 weights=wt3)"
"0",""
"0","# Model 2 (Unweighted): Difference-in-Differences (Baseline vs Wave 2)"
"0","asp.did.w2_unw <- lm(mg.asp ~ treat.dum*post.dum + factor(Region), "
"0","                     data=subset(mig_long, wave!=3 & nonmissing2))"
"0",""
"0","# Model 4 (Unweighted): Difference-in-Differences (Baseline vs Wave 3)"
"0","asp.did.w3_unw <- lm(mg.asp ~ treat.dum*post.dum + factor(Region), "
"0","                     data=subset(mig_long, wave!=2 & nonmissing3))"
