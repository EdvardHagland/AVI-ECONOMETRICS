"0","# --- INTENT: Estimate DiD models replacing region FE with baseline covariates. ---"
"0","# --- EFFECT: Runs four lm() models using the original mig_long dataset. ---"
"0","message(""Running Robustness Check 1: Covariate Adjustment Models..."")"
"0",""
"0","# Define baseline covariates (already in mig_long)"
"0","baseline_controls <- c(""age"", ""educ"", ""male"", ""Score"")"
"0","baseline_formula_part <- paste(baseline_controls, collapse = "" + "")"
"0",""
"0","# Ensure mig_long exists before proceeding"
"0","if (!exists(""mig_long"")) {"
"0","  stop(""Error in robust-covariate-adj-models: mig_long data frame not found."")"
"0","}"
"0",""
"0","# Model R1a: DiD (Baseline vs Wave 2, Weighted, Covariates)"
"0","asp.did.w2.cov <- lm(as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", baseline_formula_part)),"
"0","                     data=subset(mig_long, wave!=3 & nonmissing2), # Use mig_long"
"0","                     weights=wt2)"
"0","print(summary(asp.did.w2.cov)) # DEBUG PRINT"
"1","
Call:
"
"1",""
"1","lm(formula = as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", 
    baseline_formula_part)), data = subset(mig_long, wave != 
    3 & nonmissing2), weights = wt2)"
"1",""
"1","

"
"1","Weighted "
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-3.1254 "
"1","-0.7591 "
"1"," 0.3263 "
"1"," 0.6377 "
"1"," 2.1142 "
"1","
"
"1","
Coefficients:
"
"1","                  "
"1","  Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)       "
"1","  4.059805"
"1","   0.262657"
"1","  15.457"
"1","  < 2e-16"
"1"," ***"
"1","
treat.dum         "
"1"," -0.029924"
"1","   0.081779"
"1","  -0.366"
"1","  0.71448"
"1","    "
"1","
post.dum          "
"1"," -0.011656"
"1","   0.080017"
"1","  -0.146"
"1","  0.88420"
"1","    "
"1","
age               "
"1"," -0.013627"
"1","   0.006578"
"1","  -2.072"
"1","  0.03849"
"1"," *  "
"1","
educ              "
"1","  0.125432"
"1","   0.066057"
"1","   1.899"
"1","  0.05780"
"1"," .  "
"1","
male              "
"1"," -0.159288"
"1","   0.059656"
"1","  -2.670"
"1","  0.00767"
"1"," ** "
"1","
Score             "
"1"," -0.004383"
"1","   0.002556"
"1","  -1.715"
"1","  0.08662"
"1"," .  "
"1","
treat.dum:post.dum"
"1"," -0.298998"
"1","   0.115278"
"1","  -2.594"
"1","  0.00960"
"1"," ** "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.115"
"1"," "
"1","on"
"1"," "
"1","1357"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","49 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.03024"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.02524"
"1"," "
"1","
F-statistic:"
"1"," "
"1","6.046"
"1"," "
"1","on"
"1"," "
"1","7"
"1"," "
"1","and"
"1"," "
"1","1357"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","5.809e-07"
"1","
"
"1","
"
"0","# Model R1b: DiD (Baseline vs Wave 2, Unweighted, Covariates)"
"0","asp.did.w2.cov_unw <- lm(as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", baseline_formula_part)),"
"0","                         data=subset(mig_long, wave!=3 & nonmissing2)) # Use mig_long"
"0","print(summary(asp.did.w2.cov_unw)) # DEBUG PRINT"
"1","
Call:
"
"1",""
"1","lm(formula = as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", 
    baseline_formula_part)), data = subset(mig_long, wave != 
    3 & nonmissing2))"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-2.8534 "
"1","-0.7307 "
"1"," 0.3094 "
"1"," 0.6151 "
"1"," 2.0099 "
"1","
"
"1","
Coefficients:
"
"1","                  "
"1","  Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)       "
"1","  4.128478"
"1","   0.260785"
"1","  15.831"
"1","  < 2e-16"
"1"," ***"
"1","
treat.dum         "
"1"," -0.018398"
"1","   0.080935"
"1","  -0.227"
"1","  0.82021"
"1","    "
"1","
post.dum          "
"1"," -0.013326"
"1","   0.079184"
"1","  -0.168"
"1","  0.86638"
"1","    "
"1","
age               "
"1"," -0.014573"
"1","   0.006513"
"1","  -2.237"
"1","  0.02542"
"1"," *  "
"1","
educ              "
"1","  0.128572"
"1","   0.065538"
"1","   1.962"
"1","  0.04999"
"1"," *  "
"1","
male              "
"1"," -0.158263"
"1","   0.059194"
"1","  -2.674"
"1","  0.00759"
"1"," ** "
"1","
Score             "
"1"," -0.005206"
"1","   0.002512"
"1","  -2.072"
"1","  0.03841"
"1"," *  "
"1","
treat.dum:post.dum"
"1"," -0.295762"
"1","   0.114125"
"1","  -2.592"
"1","  0.00965"
"1"," ** "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.066"
"1"," "
"1","on"
"1"," "
"1","1390"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","16 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.03061"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.02573"
"1"," "
"1","
F-statistic:"
"1"," "
"1"," 6.27"
"1"," "
"1","on"
"1"," "
"1","7"
"1"," "
"1","and"
"1"," "
"1","1390"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","2.937e-07"
"1","
"
"1","
"
"0","# Model R1c: DiD (Baseline vs Wave 3, Weighted, Covariates)"
"0","asp.did.w3.cov <- lm(as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", baseline_formula_part)),"
"0","                     data=subset(mig_long, wave!=2 & nonmissing3), # Use mig_long"
"0","                     weights=wt3)"
"0","print(summary(asp.did.w3.cov)) # DEBUG PRINT"
"1","
Call:
"
"1",""
"1","lm(formula = as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", 
    baseline_formula_part)), data = subset(mig_long, wave != 
    2 & nonmissing3), weights = wt3)"
"1",""
"1","

"
"1","Weighted "
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-3.1816 "
"1","-0.7818 "
"1"," 0.4169 "
"1"," 0.7060 "
"1"," 2.3462 "
"1","
"
"1","
Coefficients:
"
"1","                  "
"1","  Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)       "
"1","  4.458278"
"1","   0.307987"
"1","  14.476"
"1","   <2e-16"
"1"," ***"
"1","
treat.dum         "
"1"," -0.062357"
"1","   0.093631"
"1","  -0.666"
"1","   0.5056"
"1","    "
"1","
post.dum          "
"1"," -0.058859"
"1","   0.093108"
"1","  -0.632"
"1","   0.5274"
"1","    "
"1","
age               "
"1"," -0.018426"
"1","   0.007805"
"1","  -2.361"
"1","   0.0184"
"1"," *  "
"1","
educ              "
"1"," -0.050237"
"1","   0.078526"
"1","  -0.640"
"1","   0.5225"
"1","    "
"1","
male              "
"1"," -0.078343"
"1","   0.069008"
"1","  -1.135"
"1","   0.2565"
"1","    "
"1","
Score             "
"1"," -0.003571"
"1","   0.002949"
"1","  -1.211"
"1","   0.2262"
"1","    "
"1","
treat.dum:post.dum"
"1"," -0.128136"
"1","   0.132038"
"1","  -0.970"
"1","   0.3321"
"1","    "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.282"
"1"," "
"1","on"
"1"," "
"1","1045"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","37 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.01762"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.01104"
"1"," "
"1","
F-statistic:"
"1"," "
"1","2.678"
"1"," "
"1","on"
"1"," "
"1","7"
"1"," "
"1","and"
"1"," "
"1","1045"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","0.009446"
"1","
"
"1","
"
"0","# Model R1d: DiD (Baseline vs Wave 3, Unweighted, Covariates)"
"0","asp.did.w3.cov_unw <- lm(as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", baseline_formula_part)),"
"0","                         data=subset(mig_long, wave!=2 & nonmissing3)) # Use mig_long"
"0","print(summary(asp.did.w3.cov_unw)) # DEBUG PRINT"
"1","
Call:
"
"1",""
"1","lm(formula = as.formula(paste(""mg.asp ~ treat.dum*post.dum +"", 
    baseline_formula_part)), data = subset(mig_long, wave != 
    2 & nonmissing3))"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-2.7125 "
"1","-0.6583 "
"1"," 0.3556 "
"1"," 0.5972 "
"1"," 1.9454 "
"1","
"
"1","
Coefficients:
"
"1","                  "
"1","  Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)       "
"1","  4.455084"
"1","   0.306028"
"1","  14.558"
"1","   <2e-16"
"1"," ***"
"1","
treat.dum         "
"1"," -0.039345"
"1","   0.092593"
"1","  -0.425"
"1","   0.6710"
"1","    "
"1","
post.dum          "
"1"," -0.072551"
"1","   0.091857"
"1","  -0.790"
"1","   0.4298"
"1","    "
"1","
age               "
"1"," -0.018719"
"1","   0.007705"
"1","  -2.429"
"1","   0.0153"
"1"," *  "
"1","
educ              "
"1"," -0.049728"
"1","   0.077367"
"1","  -0.643"
"1","   0.5205"
"1","    "
"1","
male              "
"1"," -0.079018"
"1","   0.068468"
"1","  -1.154"
"1","   0.2487"
"1","    "
"1","
Score             "
"1"," -0.003543"
"1","   0.002902"
"1","  -1.221"
"1","   0.2224"
"1","    "
"1","
treat.dum:post.dum"
"1"," -0.130087"
"1","   0.130568"
"1","  -0.996"
"1","   0.3193"
"1","    "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.073"
"1"," "
"1","on"
"1"," "
"1","1073"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","9 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.01749"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.01108"
"1"," "
"1","
F-statistic:"
"1"," "
"1","2.728"
"1"," "
"1","on"
"1"," "
"1","7"
"1"," "
"1","and"
"1"," "
"1","1073"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","0.008275"
"1","
"
"1","
"
"0","message(""Covariate adjustment models estimated."")"
